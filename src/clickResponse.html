<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../lib/Cesium/Cesium.js"></script>
    <link href="../lib/Cesium/Widgets/widgets.css" rel="stylesheet">
    <style>
        html,
        body {
            margin: 0px;
            padding: 0px;
        }
    </style>
</head>
<body>
    <div id="CesiumContainer"></div>
    <script>
        var esri = new Cesium.ArcGisMapServerImageryProvider({
            url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"
        })
        Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzYTc0ZjA0YS1kNmNhLTRlMjMtYTgxOC1hOTg4YjhkMTMzMWUiLCJpZCI6ODU2MTIsImlhdCI6MTY0NzE3NDM0N30.z299-Si_hwbT5dYCDVdOIvdlKZWZi-zWdzWZj2F0Z-Q';
        const viewer = new Cesium.Viewer('CesiumContainer', {
            baseLayerPicker: false,
            imageryProvider: esri,
            terrainProvider: new Cesium.CesiumTerrainProvider({
                url: Cesium.IonResource.fromAssetId(1),
                requestVertexNormals: true,
                requestWaterMask: true,
            })
        });

        var tileset = viewer.scene.primitives.add(
            new Cesium.Cesium3DTileset({
                url: Cesium.IonResource.fromAssetId(96188)
            })
        );

        viewer.camera.setView({
            destination: Cesium.Cartesian3.fromDegrees(121.49, 31.23, 3000),
            orientation: {
                heading: 0,
                pritch: -90,
                roll: 0,
            }
        });

        const entity = viewer.entities.add({
            id: 'click_me',
            description:`<div>
                <img width="100%" height="100px" src="../img/click_me.png">
                <h2>Me</h2>
                <h3>Yes you clicked me</h3>
                </div>`,
            position: new Cesium.Cartesian3.fromDegrees(121.49, 31.23, 0),
            plane: {
                plane: new Cesium.Plane(Cesium.Cartesian3.UNIT_Z, 0.0),
                dimensions: new Cesium.Cartesian2(400, 300),
                material: "../img/click_me.png",
                outline: true,
                outlineColor: Cesium.Color.BLACK,
            },
        });

        var handler = new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);
        handler.setInputAction(function (movement){
            var pick = viewer.scene.pick(movement.position);
            if(Cesium.defined(pick) && (pick.id.id === 'click_me')){
                alert('you clicked me');
            }
        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);

    </script>
</body>
</html>
